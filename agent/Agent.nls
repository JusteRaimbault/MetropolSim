;;;;;;;;;;;;;;;;;;
;; Agent procedures utils
;;;;;;;;;;;;;;;;;;



;;;;;;;;;
;; Report myself at n-th level (or nobody if does not exists)
;;; 
;;; DOES NOT WORKS -- command called by run executed in a separate workspace -- solution : write agent in temp file ? horrible...

to-report my-nth-self [level]
  ;; use catch of exception to go until required level (catch runtime error signifying that does not exists)
  ;carefully [
    let res self
    ;show myself
    ;show [[myself] of myself] of myself
    
    ;; ยก does not work with iterated myself (why ?) !
    ;; dirtily use a built command with iterated asks
    
    let command "print self"
    repeat level [set command (word "ask myself [" command "]")]
    show command
    run command
    ;ask myself [set res self]
    ;report res
    report nobody
  ;][
  ;  report nobody
  ;]
end